<% layout('/layouts/boilerplate') %>

<div class="container">
    <h3 class="mt-3">All Bookings for "<%= listing.title %>"</h3>
    <hr>

    <% if (bookings && bookings.length > 0) { %>
        <div class="row">
            <% for (let booking of bookings) { %>
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Booked by: <%= booking.user.username %></h5>
                            <p class="card-text">
                                <strong>Check-in:</strong> <%= booking.checkIn.toDateString() %><br>
                                <strong>Check-out:</strong> <%= booking.checkOut.toDateString() %><br>
                                <strong>Total Price:</strong> &#8377;<%= booking.totalPrice.toLocaleString("en-IN") %>
                            </p>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
    <% } else { %>
        <p>There are no bookings for this listing yet.</p>
    <% } %>
</div>